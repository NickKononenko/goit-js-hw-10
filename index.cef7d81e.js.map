{"mappings":"AAAA,MAGMA,EAAU,CACdC,QAAS,CACP,YAJF,0EAYK,SAASC,EAAgBC,GAC9B,OAAOC,MAAM,wDAAuCD,IAAWH,E,CCZjE,MAAMK,EAAO,CACXC,YAAaC,SAASC,cAAc,iBACpCC,OAAQF,SAASC,cAAc,WAC/BE,MAAOH,SAASC,cAAc,UAC9BG,QAASJ,SAASC,cAAc,cAGlCH,EAAKC,YAAYM,iBAAiB,UA6BlC,SAA6BC,GAC3BR,EAAKM,QAAQG,UAAY,GACzBT,EAAKM,QAAQI,UAAUC,OAAO,YAC9BX,EAAKI,OAAOM,UAAUC,OAAO,aAE7Bd,EADgBW,EAAMI,OAAOC,OAE1BC,MAAKC,IACCA,EAASC,KACZhB,EAAKK,MAAMK,UAAUC,OAAO,aAC5BX,EAAKI,OAAOM,UAAUO,IAAI,cAErBF,EAASG,UAEjBJ,MAAKK,KAWV,SAA+BC,GAC7BpB,EAAKM,QAAQG,UAAY,GACzBT,EAAKM,QAAQI,UAAUO,IAAI,YAC3B,MAAMI,EAAkB,aAAaD,EAAW,GAAGE,kHAE1BF,EAAW,GAAGG,OAAO,GAAGC,uCACxBJ,EAAW,GAAGG,OAAO,GAAGE,0EACKL,EAAW,GAAGG,OAAO,GAAGG,8BAE9E1B,EAAKM,QAAQqB,mBAAmB,YAAaN,E,CAnBzCO,CAAsBT,GACtBnB,EAAKI,OAAOM,UAAUO,IAAI,YAAY,IAEvCY,OAAMxB,IACLL,EAAKK,MAAMK,UAAUC,OAAO,aAC5BX,EAAKI,OAAOM,UAAUO,IAAI,aAC1BjB,EAAKM,QAAQI,UAAUC,OAAO,WAAW,G,IDhDtCZ,MAAM,uCAAuBJ,GCEnCmB,MAAKC,IACCA,EAASC,KACZhB,EAAKK,MAAMK,UAAUC,OAAO,aAC5BX,EAAKI,OAAOM,UAAUO,IAAI,cAErBF,EAASG,UAEjBJ,MAAKK,KAUR,SAAmCW,GACjC,MAAMC,EAAsBD,EACzBE,KAAI,EAACC,GAAEA,EAAET,KAAEA,KACH,kBAAkBS,MAAOT,eAEjCU,KAAK,IACRlC,EAAKC,YAAY0B,mBAAmB,YAAaI,E,CAf/CI,CAA0BhB,GAC1BnB,EAAKC,YAAYS,UAAUC,OAAO,aAClCX,EAAKI,OAAOM,UAAUO,IAAI,YAAY,IAEvCY,OAAMxB,IACLL,EAAKK,MAAMK,UAAUC,OAAO,aAC5BX,EAAKI,OAAOM,UAAUO,IAAI,YAAY","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const API_KEY =\n  'live_SljqN65wV2OSxulTU4GEecfwKbY4EoL0PEa4dlDUiW4OpEQTGD3vcODI6bSSWjIP';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst options = {\n  headers: {\n    'x-api-key': API_KEY,\n  },\n};\n\nexport function fetchBreeds() {\n  return fetch(`${BASE_URL}/breeds?`, options);\n}\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(`${BASE_URL}/images/search?breed_ids=${breedId}`, options);\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst refs = {\n  breedSelect: document.querySelector('.breed-select'),\n  loader: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n  catInfo: document.querySelector('#cat-info'),\n};\n\nrefs.breedSelect.addEventListener('change', onBreedSelectChange);\n\nfetchBreeds()\n  .then(response => {\n    if (!response.ok) {\n      refs.error.classList.remove('is-hidden');\n      refs.loader.classList.add('is-hidden');\n    }\n    return response.json();\n  })\n  .then(data => {\n    createBreedSelectorMarkup(data);\n    refs.breedSelect.classList.remove('is-hidden');\n    refs.loader.classList.add('is-hidden');\n  })\n  .catch(error => {\n    refs.error.classList.remove('is-hidden');\n    refs.loader.classList.add('is-hidden');\n  });\n\nfunction createBreedSelectorMarkup(breedsArr) {\n  const breedSelectorMarkup = breedsArr\n    .map(({ id, name }) => {\n      return `<option value=\"${id}\">${name}</option>`;\n    })\n    .join('');\n  refs.breedSelect.insertAdjacentHTML('beforeend', breedSelectorMarkup);\n}\n\nfunction onBreedSelectChange(event) {\n  refs.catInfo.innerHTML = '';\n  refs.catInfo.classList.remove('cat-info');\n  refs.loader.classList.remove('is-hidden');\n  const breedId = event.target.value;\n  fetchCatByBreed(breedId)\n    .then(response => {\n      if (!response.ok) {\n        refs.error.classList.remove('is-hidden');\n        refs.loader.classList.add('is-hidden');\n      }\n      return response.json();\n    })\n    .then(data => {\n      createCatsBreedMarkup(data);\n      refs.loader.classList.add('is-hidden');\n    })\n    .catch(error => {\n      refs.error.classList.remove('is-hidden');\n      refs.loader.classList.add('is-hidden');\n      refs.catInfo.classList.remove('cat-info');\n    });\n}\n\nfunction createCatsBreedMarkup(catInfoArr) {\n  refs.catInfo.innerHTML = '';\n  refs.catInfo.classList.add('cat-info');\n  const catsBreedMarkup = `<img src=\"${catInfoArr[0].url}\" alt=\"cat\" width=\"300\" height=\"350\" class=\"cat-img\" >\n  <div class=\"container\">\n    <h2 class=\"cat-name\">${catInfoArr[0].breeds[0].name}</h2>\n    <p class=\"cat-descr\">${catInfoArr[0].breeds[0].description}</p>\n    <p class=\"cat-temp\"><strong>Temperament:</strong> ${catInfoArr[0].breeds[0].temperament}</p>\n    </div>`;\n  refs.catInfo.insertAdjacentHTML('beforeend', catsBreedMarkup);\n}\n"],"names":["$6b5f202d1456c0af$var$options","headers","$6b5f202d1456c0af$export$57b7d3a597416aa2","breedId","fetch","$1f0dc3b9307be026$var$refs","breedSelect","document","querySelector","loader","error","catInfo","addEventListener","event","innerHTML","classList","remove","target","value","then","response","ok","add","json","data","catInfoArr","catsBreedMarkup","url","breeds","name","description","temperament","insertAdjacentHTML","$1f0dc3b9307be026$var$createCatsBreedMarkup","catch","breedsArr","breedSelectorMarkup","map","id","join","$1f0dc3b9307be026$var$createBreedSelectorMarkup"],"version":3,"file":"index.cef7d81e.js.map"}